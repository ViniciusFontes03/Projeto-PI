#{extends 'main.html' /}
#{set title: 'Lista'/}

<br><br>

<form class="d-flex barraDePesquisa m-3" role="search">
			<input class="form-control me-2 p-2" type="search">
			<button class="btn btn-outline-light" type="submit">Buscar</button>
		  </form>

<div class="container d-flex flex-row">	
	
	#{list items:pedido, as:'ped'}
	<div class="container m-4 ">
	<div class="row m-3" >
		<div class="cardListagem justify-content-center ">
			<div class="card text-center bg-transparent text-white border-0">
			
				<div class="card-header border-0 m-3">
					<h5 class="card-title p-2">${ped.nome} <a href="#" class="" data-bs-toggle="modal" data-bs-target="#staticBackdrop">
  					<img src="/public/images/informacoes.png" width="24" height="24"></a></h5>
				</div>
				
				<div class="card-body ">
					
					#{if ped.qntdGas>0}
					<p style="font-size: 1.2em;" class="card-text">Gás: ${ped.qntdGas}</p>
					#{/if}
					#{if ped.qntdAgua>0}
					<p style="font-size: 1.2em;" class="card-text">Água: ${ped.qntdAgua}</p>
					#{/if}
					<p style="font-size: 1.2em;" class="card-text">Valor total: ${ped.valorAgua*ped.qntdAgua+ped.valorGas*ped.qntdGas}</p>
					
				</div>
				
				<div class="card-footer border-0">
					<div class="mt-2">
						<a href="@{Pedidos.editar(ped.id)}" class="text-white text-decoration-none px-4 py-2 rounded-3"
                        style="background-color: #aee239">
                          Editar</a>	
					</div>
					<div class="m-3">
						<a href="@{Pedidos.delete(ped.id)}" class="text-white text-decoration-none px-4 py-2 rounded-3"
                        style="background-color: #e23939">
                          Remover</a>
					</div>
				</div>
				

			</div>
		</div>
		</div>
	</div>
	<div class="modal fade modalDetalhesPedido" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
  
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="staticBackdropLabel">${ped.nome}</h1>
        <h6 class="modal-subtitle">${ped.data.format('dd-MM-yyyy')} </h6>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        ...
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Understood</button>
      </div>
    </div>
  </div>
</div>
#{/list}



</div>
	<div class="container p-3 d-flex justify-content-center ">	
	    <a href="@{Pedidos.form}" class=" col-2 btn btn-dark">Novo Pedido</a>
	</div>


<!--
	#{list items:pedido, as:'ped'}
	
	<table class="table table-hover rounded">
		<header>
			${ped.data}
		</header>
		<tbody>
		<div class="container d-inline">
	<div class="card" style="width: 20rem;">
  <div class="card-body">
    <h5 class="card-title">${ped.nome}</h5>
    <h6 class="card-subtitle mb-2 text-body-secondary">${ped.endereco}</h6>
    <p class="card-text">Gás: ${ped.qntdGas}</p>
    <p class="card-text">Água: ${ped.qntdAgua}</p>
    <p class="card-text">Valor total: ${ped.valorAgua*ped.qntdAgua+ped.valorGas*ped.qntdGas}</p>
    <div class="d-flex justify-content-center">
    <a href="@{Pedidos.form}" class=" col-2 btn btn-dark">Detalhes</a>
    </div>
    </tbody>
    </table>
    
  
</div>
  	#{/list}




</div>
-->